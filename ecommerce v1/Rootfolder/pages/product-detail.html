<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Detail | ShopEasy</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="../images/logo.svg">
    <style>
        .product-detail-page {
            padding: 40px 0 80px;
        }
        
        .product-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            margin-bottom: 60px;
        }
        
        .product-images {
            position: sticky;
            top: 100px;
        }
        
        .main-image {
            width: 100%;
            height: 500px;
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-bottom: 20px;
            background: var(--light-color);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .main-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 20px;
        }
        
        .thumbnail-images {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }
        
        .thumbnail {
            width: 100%;
            height: 100px;
            border-radius: var(--border-radius);
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition);
            background: var(--light-color);
        }
        
        .thumbnail:hover,
        .thumbnail.active {
            border-color: var(--primary-color);
        }
        
        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 10px;
        }
        
        .product-info {
            padding-top: 20px;
        }
        
        .product-breadcrumb {
            margin-bottom: 20px;
            font-size: 14px;
            color: var(--gray-color);
        }
        
        .product-breadcrumb a {
            color: var(--gray-color);
        }
        
        .product-breadcrumb a:hover {
            color: var(--primary-color);
        }
        
        .product-title {
            font-size: 2.5rem;
            margin-bottom: 15px;
            line-height: 1.2;
        }
        
        .product-rating {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stars {
            display: flex;
            gap: 5px;
            color: var(--accent-color);
        }
        
        .rating-count {
            color: var(--gray-color);
        }
        
        .product-price {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .current-price {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        
        .original-price {
            font-size: 1.5rem;
            color: var(--gray-color);
            text-decoration: line-through;
        }
        
        .discount-badge {
            background: var(--danger-color);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .product-description {
            margin-bottom: 30px;
            line-height: 1.8;
        }
        
        .product-features {
            margin-bottom: 30px;
        }
        
        .product-features h3 {
            margin-bottom: 15px;
        }
        
        .product-features ul {
            list-style: none;
            padding-left: 0;
        }
        
        .product-features li {
            padding: 8px 0;
            padding-left: 30px;
            position: relative;
        }
        
        .product-features li:before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--success-color);
            font-weight: bold;
        }
        
        .product-actions {
            margin-bottom: 40px;
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .quantity-btn {
            width: 40px;
            height: 40px;
            border: 1px solid var(--light-gray);
            background: white;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
        }
        
        .quantity-btn:hover {
            background: var(--light-gray);
        }
        
        #quantity {
            width: 80px;
            height: 40px;
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            text-align: center;
            font-size: 16px;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .btn-add-to-cart {
            flex: 1;
            min-width: 200px;
        }
        
        .btn-wishlist {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-wishlist.active {
            color: var(--danger-color);
        }
        
        .product-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: var(--light-color);
            border-radius: var(--border-radius);
        }
        
        .meta-item i {
            font-size: 24px;
            color: var(--primary-color);
        }
        
        .meta-item strong {
            display: block;
            margin-bottom: 5px;
        }
        
        .meta-item p {
            margin: 0;
            font-size: 14px;
            color: var(--gray-color);
        }
        
        .product-tabs {
            margin-top: 80px;
        }
        
        .tab-headers {
            display: flex;
            gap: 30px;
            border-bottom: 2px solid var(--light-gray);
            margin-bottom: 40px;
        }
        
        .tab-header {
            padding: 15px 0;
            font-weight: 600;
            color: var(--gray-color);
            cursor: pointer;
            position: relative;
            transition: var(--transition);
        }
        
        .tab-header:hover,
        .tab-header.active {
            color: var(--primary-color);
        }
        
        .tab-header.active:after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--primary-color);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .specifications table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .specifications tr {
            border-bottom: 1px solid var(--light-gray);
        }
        
        .specifications td {
            padding: 15px;
        }
        
        .specifications td:first-child {
            font-weight: 600;
            width: 200px;
        }
        
        .reviews-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .rating-overview {
            text-align: center;
            background: var(--light-color);
            padding: 30px;
            border-radius: var(--border-radius);
        }
        
        .average-rating {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .review-item {
            background: white;
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 20px;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .reviewer-info h4 {
            margin-bottom: 5px;
        }
        
        .review-date {
            color: var(--gray-color);
            font-size: 14px;
        }
        
        .related-products {
            margin-top: 80px;
        }
        
        .related-products h2 {
            margin-bottom: 40px;
        }
        
        @media (max-width: 992px) {
            .product-container {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .product-images {
                position: static;
            }
            
            .main-image {
                height: 400px;
            }
        }
        
        @media (max-width: 768px) {
            .product-title {
                font-size: 2rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn-add-to-cart {
                min-width: 100%;
            }
            
            .thumbnail-images {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .tab-headers {
                flex-wrap: wrap;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-spinner"></div>
        <p>Loading Product...</p>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="../index.html" class="logo">
                    <i class="fas fa-shopping-bag"></i>
                    <span>ShopEasy</span>
                </a>

                <div class="search-container">
                    <div class="category-dropdown">
                        <button class="category-toggle">
                            All Categories <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="category-menu">
                            <a href="categories.html?cat=electronics"><i class="fas fa-laptop"></i> Electronics</a>
                            <a href="categories.html?cat=fashion"><i class="fas fa-tshirt"></i> Fashion</a>
                            <a href="categories.html?cat=home"><i class="fas fa-home"></i> Home & Kitchen</a>
                            <a href="categories.html?cat=beauty"><i class="fas fa-spa"></i> Beauty</a>
                            <a href="categories.html?cat=sports"><i class="fas fa-basketball-ball"></i> Sports</a>
                        </div>
                    </div>
                    <input type="text" class="search-input" placeholder="Search for products...">
                    <button class="search-btn"><i class="fas fa-search"></i></button>
                </div>

                <div class="nav-action" id="accountLink">
    <!-- JavaScript will update this based on login status -->
    <a href="pages/login.html" class="nav-icon">
        <i class="fas fa-user"></i>
        <span>Login</span>
    </a>
</div>
                    <div class="nav-action">
                        <a href="wishlist.html" class="nav-icon">
                            <i class="fas fa-heart"></i>
                            <span>Wishlist</span>
                            <span class="badge" id="wishlistCount">0</span>
                        </a>
                    </div>
                    <div class="nav-action">
                        <a href="cart.html" class="nav-icon">
                            <i class="fas fa-shopping-cart"></i>
                            <span>Cart</span>
                            <span class="badge" id="cartCount">0</span>
                        </a>
                    </div>
                </div>

                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>

        <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
    <div class="mobile-menu-header">
        <h3>ShopEasy Menu</h3>
        <button class="mobile-menu-close" id="mobileMenuClose">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <div class="mobile-search">
        <input type="text" placeholder="Search products...">
        <button><i class="fas fa-search"></i></button>
    </div>
    
    <!-- In products.html, update the mobile menu links -->
<div class="mobile-menu-links">
    <a href="../index.html"><i class="fas fa-home"></i> Home</a>
    <a href="products.html" class="active"><i class="fas fa-th-large"></i> All Products</a>
    <a href="categories.html"><i class="fas fa-list"></i> Categories</a>
    <a href="wishlist.html"><i class="fas fa-heart"></i> Wishlist</a>
    <a href="cart.html"><i class="fas fa-shopping-cart"></i> Cart</a>
    <a href="login.html"><i class="fas fa-user"></i> Account</a>
    <a href="about.html"><i class="fas fa-info-circle"></i> About Us</a>
    <a href="contact.html"><i class="fas fa-phone"></i> Contact</a>
    <a href="faq.html"><i class="fas fa-question-circle"></i> FAQ</a>
</div>

    <div class="mobile-menu-footer">
        <p>© 2024 ShopEasy. All rights reserved.</p>
    </div>
</div>

<div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

    </header>

    <!-- Breadcrumb -->
    <section class="breadcrumb">
        <div class="container">
            <a href="../index.html">Home</a> / 
            <a href="products.html">Products</a> / 
            <a href="categories.html?cat=electronics">Electronics</a> / 
            <span>Product Detail</span>
        </div>
    </section>

    <!-- Product Detail -->
    <main class="product-detail-page">
        <div class="container">
            <div class="product-container" id="productDetail">
                <!-- Product images will be loaded via JavaScript -->
            </div>

            <!-- Product Tabs -->
            <div class="product-tabs">
                <div class="tab-headers">
                    <div class="tab-header active" data-tab="description">
                        Description
                    </div>
                    <div class="tab-header" data-tab="specifications">
                        Specifications
                    </div>
                    <div class="tab-header" data-tab="reviews">
                        Reviews (24)
                    </div>
                    <div class="tab-header" data-tab="shipping">
                        Shipping & Returns
                    </div>
                </div>

                <div class="tab-contents">
                    <!-- Description Tab -->
                    <div class="tab-content active" id="descriptionTab">
                        <h3>Product Description</h3>
                        <p>Experience the ultimate in wireless audio with our premium Bluetooth headphones. Engineered for exceptional sound quality and comfort, these headphones feature advanced noise cancellation technology that blocks out ambient noise, allowing you to immerse yourself in your music.</p>
                        
                        <p>With 30 hours of battery life, you can enjoy your favorite tunes all day long. The quick charge feature gives you 3 hours of playback with just 10 minutes of charging. The headphones feature plush memory foam ear cups and an adjustable headband for all-day comfort.</p>
                        
                        <h4>Key Benefits:</h4>
                        <ul>
                            <li>Crystal clear audio with deep bass</li>
                            <li>Active Noise Cancellation (ANC)</li>
                            <li>30-hour battery life with quick charge</li>
                            <li>Comfortable over-ear design</li>
                            <li>Built-in microphone for calls</li>
                            <li>Foldable design for portability</li>
                        </ul>
                    </div>

                    <!-- Specifications Tab -->
                    <div class="tab-content" id="specificationsTab">
                        <h3>Technical Specifications</h3>
                        <div class="specifications">
                            <table>
                                <tr>
                                    <td>Brand</td>
                                    <td>AudioTech</td>
                                </tr>
                                <tr>
                                    <td>Model</td>
                                    <td>SoundWave Pro X</td>
                                </tr>
                                <tr>
                                    <td>Driver Size</td>
                                    <td>40mm</td>
                                </tr>
                                <tr>
                                    <td>Frequency Response</td>
                                    <td>20Hz - 20kHz</td>
                                </tr>
                                <tr>
                                    <td>Impedance</td>
                                    <td>32 ohms</td>
                                </tr>
                                <tr>
                                    <td>Bluetooth Version</td>
                                    <td>5.0</td>
                                </tr>
                                <tr>
                                    <td>Battery Life</td>
                                    <td>30 hours (ANC on)</td>
                                </tr>
                                <tr>
                                    <td>Charging Time</td>
                                    <td>2 hours (full charge)</td>
                                </tr>
                                <tr>
                                    <td>Quick Charge</td>
                                    <td>10 min = 3 hours</td>
                                </tr>
                                <tr>
                                    <td>Weight</td>
                                    <td>265g</td>
                                </tr>
                                <tr>
                                    <td>Warranty</td>
                                    <td>2 Years</td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <!-- Reviews Tab -->
                    <div class="tab-content" id="reviewsTab">
                        <div class="reviews-summary">
                            <div class="rating-overview">
                                <div class="average-rating">4.5</div>
                                <div class="stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </div>
                                <p>Based on 24 reviews</p>
                            </div>
                            <div class="rating-breakdown">
                                <h4>Rating Breakdown</h4>
                                <div class="breakdown-item">
                                    <span>5 Stars</span>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 70%"></div>
                                    </div>
                                    <span>70%</span>
                                </div>
                                <div class="breakdown-item">
                                    <span>4 Stars</span>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 20%"></div>
                                    </div>
                                    <span>20%</span>
                                </div>
                                <div class="breakdown-item">
                                    <span>3 Stars</span>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 5%"></div>
                                    </div>
                                    <span>5%</span>
                                </div>
                                <div class="breakdown-item">
                                    <span>2 Stars</span>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 3%"></div>
                                    </div>
                                    <span>3%</span>
                                </div>
                                <div class="breakdown-item">
                                    <span>1 Star</span>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 2%"></div>
                                    </div>
                                    <span>2%</span>
                                </div>
                            </div>
                        </div>

                        <div class="reviews-list">
                            <div class="review-item">
                                <div class="review-header">
                                    <div class="reviewer-info">
                                        <h4>Alex Johnson</h4>
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <div class="review-date">2 days ago</div>
                                </div>
                                <div class="review-content">
                                    <h5>Excellent Sound Quality!</h5>
                                    <p>These headphones are absolutely amazing. The noise cancellation works perfectly, and the sound quality is crystal clear. Battery life is as advertised. Highly recommend!</p>
                                </div>
                            </div>

                            <div class="review-item">
                                <div class="review-header">
                                    <div class="reviewer-info">
                                        <h4>Sarah Williams</h4>
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                    </div>
                                    <div class="review-date">1 week ago</div>
                                </div>
                                <div class="review-content">
                                    <h5>Great for daily use</h5>
                                    <p>Very comfortable even for extended use. Sound quality is excellent, though I wish the bass was a bit stronger. Overall, great value for money.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Shipping Tab -->
                    <div class="tab-content" id="shippingTab">
                        <h3>Shipping Information</h3>
                        <div class="shipping-info">
                            <h4>Delivery Options:</h4>
                            <ul>
                                <li><strong>Standard Shipping:</strong> 5-7 business days - $9.99 (Free on orders over $50)</li>
                                <li><strong>Express Shipping:</strong> 2-3 business days - $19.99</li>
                                <li><strong>Next Day Shipping:</strong> Next business day - $29.99</li>
                            </ul>
                            
                            <h4>Return Policy:</h4>
                            <p>We offer a 30-day return policy for this product. Items must be in original condition with all accessories included. Free returns for defective items.</p>
                            
                            <h4>Warranty:</h4>
                            <p>This product comes with a 2-year manufacturer's warranty covering defects in materials and workmanship.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Related Products -->
            <div class="related-products">
                <h2>You May Also Like</h2>
                <div class="products-grid" id="relatedProducts">
                    <!-- Related products will be loaded via JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <!-- Newsletter -->
    <section class="newsletter">
        <div class="container">
            <div class="newsletter-content">
                <h2>Stay Updated</h2>
                <p>Subscribe for exclusive deals and new arrivals</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Enter your email" required>
                    <button type="submit" class="btn btn-primary">Subscribe</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <a href="../index.html" class="footer-logo">
                        <i class="fas fa-shopping-bag"></i>
                        <span>ShopEasy</span>
                    </a>
                    <p>Your one-stop destination for premium shopping experience. Quality products at affordable prices.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="categories.html">Categories</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Customer Service</h3>
                    <ul>
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="#">Shipping Policy</a></li>
                        <li><a href="#">Returns & Refunds</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact Info</h3>
                    <ul class="contact-info">
                        <li><i class="fas fa-map-marker-alt"></i> 123 Street, City, Country</li>
                        <li><i class="fas fa-phone"></i> +1 234 567 8900</li>
                        <li><i class="fas fa-envelope"></i> support@shopeasy.com</li>
                        <li><i class="fas fa-clock"></i> Mon-Sun: 9:00 AM - 10:00 PM</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ShopEasy. All rights reserved.</p>
                <div class="payment-methods">
                    <i class="fab fa-cc-visa"></i>
                    <i class="fab fa-cc-mastercard"></i>
                    <i class="fab fa-cc-paypal"></i>
                    <i class="fab fa-cc-apple-pay"></i>
                    <i class="fab fa-cc-amazon-pay"></i>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </button>

    <script src="../js/main.js"></script>
    <script>
        // Sample product data
        const product = {
            id: 1,
            name: 'Wireless Bluetooth Headphones with Noise Cancellation',
            category: 'electronics',
            price: 129.99,
            originalPrice: 199.99,
            rating: 4.5,
            reviewCount: 24,
            images: [
                'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&w=800',
                'https://images.unsplash.com/photo-1484704849700-f032a568e944?auto=format&fit=crop&w=800',
                'https://images.unsplash.com/photo-1583394838336-acd977736f90?auto=format&fit=crop&w-800',
                'https://images.unsplash.com/photo-1487215078519-e21cc028cb29?auto=format&fit=crop&w=800'
            ],
            description: 'Premium noise-cancelling wireless headphones with 30-hour battery life. Features advanced sound technology and comfortable over-ear design.',
            features: [
                'Active Noise Cancellation',
                '30-hour Battery Life',
                'Quick Charge (10min = 3hrs)',
                'Bluetooth 5.0',
                'Built-in Microphone',
                'Foldable Design',
                'Memory Foam Ear Cups'
            ],
            inStock: true,
            discount: 35,
            stock: 42,
            sku: 'AT-SWPROX-2024',
            brand: 'AudioTech'
        };

        // Generate star rating
        function generateStarRating(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            
            for (let i = 1; i <= 5; i++) {
                if (i <= fullStars) {
                    stars += '<i class="fas fa-star"></i>';
                } else if (i === fullStars + 1 && hasHalfStar) {
                    stars += '<i class="fas fa-star-half-alt"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            return stars;
        }

        // Render product detail
        function renderProductDetail() {
            const productDetail = document.getElementById('productDetail');
            
            if (!productDetail) return;
            
            productDetail.innerHTML = `
                <!-- Product Images -->
                <div class="product-images">
                    <div class="main-image">
                        <img src="${product.images[0]}" alt="${product.name}" id="mainImage">
                    </div>
                    <div class="thumbnail-images">
                        ${product.images.map((img, index) => `
                            <div class="thumbnail ${index === 0 ? 'active' : ''}" data-image="${img}">
                                <img src="${img}" alt="${product.name} - View ${index + 1}">
                            </div>
                        `).join('')}
                    </div>
                </div>

                <!-- Product Info -->
                <div class="product-info">
                    <div class="product-breadcrumb">
                        <a href="../index.html">Home</a> / 
                        <a href="products.html">Products</a> / 
                        <a href="categories.html?cat=${product.category}">${product.category.charAt(0).toUpperCase() + product.category.slice(1)}</a> / 
                        <span>${product.name}</span>
                    </div>
                    
                    <h1 class="product-title">${product.name}</h1>
                    
                    <div class="product-rating">
                        <div class="stars">
                            ${generateStarRating(product.rating)}
                        </div>
                        <span class="rating-count">${product.rating} (${product.reviewCount} reviews)</span>
                    </div>
                    
                    <div class="product-price">
                        <span class="current-price">$${product.price.toFixed(2)}</span>
                        ${product.originalPrice ? `
                            <span class="original-price">$${product.originalPrice.toFixed(2)}</span>
                            <span class="discount-badge">-${product.discount}%</span>
                        ` : ''}
                    </div>
                    
                    <p class="product-description">${product.description}</p>
                    
                    <div class="product-features">
                        <h3>Key Features:</h3>
                        <ul>
                            ${product.features.map(feature => `<li>${feature}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="product-actions">
                        <div class="quantity-selector">
                            <span>Quantity:</span>
                            <button class="quantity-btn" id="decreaseQuantity">-</button>
                            <input type="number" id="quantity" value="1" min="1" max="99">
                            <button class="quantity-btn" id="increaseQuantity">+</button>
                        </div>
                        
                        <div class="action-buttons">
                            <button id="addToCart" class="btn btn-primary btn-add-to-cart">
                                <i class="fas fa-shopping-cart"></i> Add to Cart
                            </button>
                            <button id="addToWishlist" class="btn btn-outline btn-wishlist">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="product-meta">
                        <div class="meta-item">
                            <i class="fas fa-box"></i>
                            <div>
                                <strong>In Stock</strong>
                                <p>${product.stock} units available</p>
                            </div>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-truck"></i>
                            <div>
                                <strong>Free Shipping</strong>
                                <p>On orders over $50</p>
                            </div>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-undo-alt"></i>
                            <div>
                                <strong>30-Day Returns</strong>
                                <p>Hassle-free returns</p>
                            </div>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-shield-alt"></i>
                            <div>
                                <strong>2-Year Warranty</strong>
                                <p>Manufacturer warranty</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Add event listeners
            setupProductEvents();
        }

        // Setup product events
        function setupProductEvents() {
            // Thumbnail click events
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.addEventListener('click', function() {
                    const mainImage = document.getElementById('mainImage');
                    const imageUrl = this.dataset.image;
                    
                    // Update main image
                    mainImage.src = imageUrl;
                    
                    // Update active thumbnail
                    document.querySelectorAll('.thumbnail').forEach(t => {
                        t.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });

            // Quantity buttons
            const quantityInput = document.getElementById('quantity');
            const decreaseBtn = document.getElementById('decreaseQuantity');
            const increaseBtn = document.getElementById('increaseQuantity');

            if (decreaseBtn && increaseBtn && quantityInput) {
                decreaseBtn.addEventListener('click', () => {
                    const current = parseInt(quantityInput.value) || 1;
                    quantityInput.value = Math.max(1, current - 1);
                });

                increaseBtn.addEventListener('click', () => {
                    const current = parseInt(quantityInput.value) || 1;
                    quantityInput.value = Math.min(99, current + 1);
                });

                quantityInput.addEventListener('change', function() {
                    let value = parseInt(this.value) || 1;
                    if (value < 1) value = 1;
                    if (value > 99) value = 99;
                    this.value = value;
                });
            }

            // Add to cart
            const addToCartBtn = document.getElementById('addToCart');
            if (addToCartBtn) {
                addToCartBtn.addEventListener('click', () => {
                    const quantity = parseInt(document.getElementById('quantity').value) || 1;
                    
                    // Get cart from localStorage or initialize
                    let cart = JSON.parse(localStorage.getItem('cart')) || [];
                    
                    // Check if product already in cart
                    const existingIndex = cart.findIndex(item => item.id === product.id);
                    
                    if (existingIndex > -1) {
                        // Update quantity
                        cart[existingIndex].quantity += quantity;
                    } else {
                        // Add new item
                        cart.push({
                            ...product,
                            quantity: quantity
                        });
                    }
                    
                    // Save to localStorage
                    localStorage.setItem('cart', JSON.stringify(cart));
                    
                    // Update cart count
                    updateCartCount();
                    
                    // Show notification
                    alert(`${product.name} added to cart!`);
                });
            }

            // Add to wishlist
            const wishlistBtn = document.getElementById('addToWishlist');
            if (wishlistBtn) {
                wishlistBtn.addEventListener('click', function() {
                    let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
                    
                    const existingIndex = wishlist.findIndex(item => item.id === product.id);
                    
                    if (existingIndex > -1) {
                        // Remove from wishlist
                        wishlist.splice(existingIndex, 1);
                        this.classList.remove('active');
                        alert('Removed from wishlist!');
                    } else {
                        // Add to wishlist
                        wishlist.push(product);
                        this.classList.add('active');
                        alert('Added to wishlist!');
                    }
                    
                    localStorage.setItem('wishlist', JSON.stringify(wishlist));
                    updateWishlistCount();
                });

                // Check if product is in wishlist
                const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
                const isInWishlist = wishlist.some(item => item.id === product.id);
                if (isInWishlist) {
                    wishlistBtn.classList.add('active');
                }
            }
        }

        // Update cart count
        function updateCartCount() {
            const cartCount = document.getElementById('cartCount');
            if (cartCount) {
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCount.textContent = totalItems;
                cartCount.style.display = totalItems > 0 ? 'flex' : 'none';
            }
        }

        // Update wishlist count
        function updateWishlistCount() {
            const wishlistCount = document.getElementById('wishlistCount');
            if (wishlistCount) {
                const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
                wishlistCount.textContent = wishlist.length;
                wishlistCount.style.display = wishlist.length > 0 ? 'flex' : 'none';
            }
        }

        // Tab functionality
        function setupTabs() {
            const tabHeaders = document.querySelectorAll('.tab-header');
            const tabContents = document.querySelectorAll('.tab-content');

            tabHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    const tabId = this.dataset.tab;
                    
                    // Update active tab header
                    tabHeaders.forEach(h => h.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding tab content
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === `${tabId}Tab`) {
                            content.classList.add('active');
                        }
                    });
                });
            });
        }

        // Load related products
        function loadRelatedProducts() {
            const relatedProducts = document.getElementById('relatedProducts');
            if (!relatedProducts) return;

            // Sample related products
            const related = [
                {
                    id: 2,
                    name: 'Smart Fitness Watch',
                    category: 'electronics',
                    price: 249.99,
                    originalPrice: 299.99,
                    rating: 4.7,
                    reviewCount: 187,
                    image: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&w=500',
                    discount: 17
                },
                {
                    id: 6,
                    name: 'Professional Camera',
                    category: 'electronics',
                    price: 1299.99,
                    originalPrice: 1599.99,
                    rating: 4.8,
                    reviewCount: 67,
                    image: 'https://images.unsplash.com/photo-1502920917128-1aa500764cbd?auto=format&fit=crop&w=500',
                    discount: 19
                },
                {
                    id: 8,
                    name: 'Air Fryer',
                    category: 'home',
                    price: 89.99,
                    originalPrice: 129.99,
                    rating: 4.6,
                    reviewCount: 421,
                    image: 'https://images.unsplash.com/photo-1551698618-1dfe5d97d256?auto=format&fit=crop&w=500',
                    discount: 31
                },
                {
                    id: 4,
                    name: 'Ceramic Coffee Mug Set',
                    category: 'home',
                    price: 34.99,
                    originalPrice: 49.99,
                    rating: 4.6,
                    reviewCount: 156,
                    image: 'https://images.unsplash.com/photo-1514228742587-6b1558fcf93a?auto=format&fit=crop&w=500',
                    discount: 30
                }
            ];

            relatedProducts.innerHTML = related.map(product => `
                <div class="product-card" data-id="${product.id}">
                    ${product.discount ? `<span class="product-badge">-${product.discount}%</span>` : ''}
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <div class="product-content">
                        <div class="product-category">${product.category}</div>
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-rating">
                            <div class="stars">
                                ${generateStarRating(product.rating)}
                            </div>
                            <span class="rating-count">(${product.reviewCount})</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">$${product.price.toFixed(2)}</span>
                            ${product.originalPrice ? `<span class="original-price">$${product.originalPrice.toFixed(2)}</span>` : ''}
                        </div>
                        <div class="product-actions">
                            <button class="action-btn btn-cart" data-action="cart">
                                <i class="fas fa-shopping-cart"></i> Add to Cart
                            </button>
                            <button class="action-btn btn-wishlist" data-action="wishlist">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');

            // Add event listeners to related products
            relatedProducts.addEventListener('click', function(e) {
                const productCard = e.target.closest('.product-card');
                if (!productCard) return;

                const productId = parseInt(productCard.dataset.id);
                
                if (e.target.closest('[data-action="cart"]')) {
                    e.preventDefault();
                    const prod = related.find(p => p.id === productId);
                    if (prod) {
                        let cart = JSON.parse(localStorage.getItem('cart')) || [];
                        cart.push({...prod, quantity: 1});
                        localStorage.setItem('cart', JSON.stringify(cart));
                        updateCartCount();
                        alert(`${prod.name} added to cart!`);
                    }
                } else if (e.target.closest('[data-action="wishlist"]')) {
                    e.preventDefault();
                    const prod = related.find(p => p.id === productId);
                    if (prod) {
                        let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
                        wishlist.push(prod);
                        localStorage.setItem('wishlist', JSON.stringify(wishlist));
                        updateWishlistCount();
                        alert(`${prod.name} added to wishlist!`);
                    }
                } else {
                    // Navigate to product detail
                    window.location.href = `product-detail.html?id=${productId}`;
                }
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderProductDetail();
            setupTabs();
            loadRelatedProducts();
            updateCartCount();
            updateWishlistCount();
        });

        // Add progress bar styles for rating breakdown
        const progressBarStyles = `
            .breakdown-item {
                display: flex;
                align-items: center;
                gap: 10px;
                margin-bottom: 10px;
            }
            
            .progress-bar {
                flex: 1;
                height: 8px;
                background: var(--light-gray);
                border-radius: 4px;
                overflow: hidden;
            }
            
            .progress {
                height: 100%;
                background: var(--accent-color);
                border-radius: 4px;
            }
        `;

        const style = document.createElement('style');
        style.textContent = progressBarStyles;
        document.head.appendChild(style);
    </script>
</body>
</html>